STORAGE_ENDPOINT=http://localhost:9000
STORAGE_BUCKET=ni-site
STORAGE_ACCESS_KEY=minioadmin
STORAGE_SECRET_KEY=minioadmin
STORAGE_REGION=us-east-1
STORAGE_USE_SSL=false
STORAGE_PUBLIC_BASE_URL=http://localhost:9000/ni-site
STORAGE_PRESIGN_EXPIRES_SEC=900
STORAGE_ALLOWED_CONTENT_TYPES=image/jpeg,image/png,image/webp
# URL БД только для Alembic (если отличается от DATABASE_URL)
ALEMBIC_DATABASE_URL=
# Список супер-админов через запятую (по логинам)
SUPER_ADMIN_LOGINS=admin01
# Дополнительные JWT секреты для ротации (через запятую; первый активный)
JWT_SECRETS=
# Время жизни временного пароля (часы)
TEMP_PASSWORD_TTL_HOURS=24
# Политика паролей: требовать заглавные буквы
PASSWORD_REQUIRE_UPPER=true
# Политика паролей: требовать строчные буквы
PASSWORD_REQUIRE_LOWER=true
# Политика паролей: требовать цифры
PASSWORD_REQUIRE_DIGIT=true
# Rate limit на смену пароля: лимит
AUTH_PASSWORD_CHANGE_RL_LIMIT=5
# Rate limit на смену пароля: окно (сек)
AUTH_PASSWORD_CHANGE_RL_WINDOW_SEC=60
# Сервисные токены через запятую для системных операций (X-Service-Token)
SERVICE_TOKENS=
# Глобальный rate limit по IP: лимит
GLOBAL_RL_LIMIT=0
# Глобальный rate limit по IP: окно (сек)
GLOBAL_RL_WINDOW_SEC=0
# Per-user rate limit для критичных эндпойнтов: лимит
CRITICAL_RL_USER_LIMIT=0
# Per-user rate limit для критичных эндпойнтов: окно (сек)
CRITICAL_RL_USER_WINDOW_SEC=0
# Критичные пути для per-user rate limit (через запятую)
CRITICAL_RL_PATHS=/api/v1/auth/login,/api/v1/auth/refresh,/api/v1/auth/password/change,/api/v1/admin/users
# Формат логов (json|text)
LOG_FORMAT=json
# Включить OpenTelemetry трассировку
OTEL_ENABLED=false
# OTLP endpoint для трассировки (http(s)://host:port)
OTEL_EXPORTER_OTLP_ENDPOINT=
# Название сервиса для трассировки
OTEL_SERVICE_NAME=
# Доля семплирования трассировки (0..1)
OTEL_SAMPLE_RATIO=1.0
# Интервал прогрева кэша олимпиад (сек)
CACHE_WARMUP_INTERVAL_SEC=300
# Интервал очистки истекших токенов/временных паролей (сек)
TOKEN_CLEANUP_INTERVAL_SEC=3600
# Срок хранения audit логов (дней)
AUDIT_LOG_RETENTION_DAYS=90
# Интервал очистки audit логов (сек)
AUDIT_LOG_CLEANUP_INTERVAL_SEC=86400
# OTP для админских действий: TTL (сек)
ADMIN_ACTION_OTP_TTL_SEC=300
# OTP для админских действий: длина кода
ADMIN_ACTION_OTP_LENGTH=6
# URL read-replica БД (опционально)
READ_DATABASE_URL=
# Размер пула для read-replica
READ_DB_POOL_SIZE=5
# Доп. соединения для read-replica
READ_DB_MAX_OVERFLOW=10

# Данные админа
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=StrongPass123
ADMIN_SURNAME=Админ
ADMIN_NAME=Админ
ADMIN_FATHER_NAME=
ADMIN_COUNTRY=Россия
ADMIN_CITY=Москва
ADMIN_SCHOOL=Школа

ADMIN_LOGIN=admin01

DATABASE_URL=postgresql+asyncpg://postgres:changethis@127.0.0.1:5432/ni_site
